{% extends 'base.html' %}
{% load static %}

{% block content %}
<section class="attr_detail">
    <div class="container">
        <div class="country-one-category">
            <div class="name">{{ object.name|safe }} ({{ object.country }})</div>
            <div class="latitude">{{ object.latitude }}</div>
            <div class="longitude">{{ object.longitude }}</div>
            {% if object.photo %}
            <div class="photo"><img src="{{ object.photo.url }}" alt=""></div>
            {% else %}
            <div class="photo">
                <img src="/media/common/no_photo.jpg">
            </div>
            {% endif %}
            <div class="number_of_review">{{ object.number_of_review }}</div>
            <div class="rating">
                <div class="rating__item">â˜…</div>
                <div class="rating__body">
                    <div class="rating__active"></div>
                    <div class="rating__items"></div>
                </div>
                <div class="rating__value">{{ object.rating }}</div>
            </div>
            <div class="info">
                {% if object.country.name %}
                Country: <a href={% url 'geo' %}?country__name={{ object.country.name|urlencode }}>{{ object.country.name }}</a>
                <br>
                {% endif %}
                {% if object.state.name %}
                State: <a href={% url 'geo' %}?country__name={{ object.country.name|urlencode }}&state__name={{ object.state.name|urlencode }}>{{ object.state.name }}</a>
                <br>
                {% endif %}
                {% if object.region.name %}
                Region: <a href={% url 'geo' %}?country__name={{ object.country.name|urlencode }}&region__name={{ object.region.name|urlencode }}>{{ object.region.name }}</a>
                <br>
                {% endif %}
                {% if object.county.name %}
                County: <a href={% url 'geo' %}?country__name={{ object.country.name|urlencode }}&state__name={{ object.state.name|urlencode }}&region__name={{ object.region.name|urlencode }}&county__name={{ object.county.name|urlencode }}>{{ object.county.name }}</a>
                <br>
                {% endif %}
                {% if object.city.name %}
                City: <a href={% url 'geo' %}?country__name={{ object.country.name|urlencode }}&state__name={{ object.state.name|urlencode }}&region__name={{ object.region.name|urlencode }}&county__name={{ object.county.name|urlencode }}&city__name={{ object.city.name|urlencode }}>{{ object.city.name }}</a>
                <br>
                {% endif %}
                {% if object.town.name %}
                Town: <a href={% url 'geo' %}?country__name={{ object.country.name|urlencode }}&state__name={{ object.state.name|urlencode }}&region__name={{ object.region.name|urlencode }}&county__name={{ object.county.name|urlencode }}&town__name={{ object.town.name|urlencode }}>{{ object.town.name }}</a>
                <br>
                {% endif %}
                {% if object.village.name %}
                Village: <a href={% url 'geo' %}?country__name={{ object.country.name|urlencode }}&state__name={{ object.state.name|urlencode }}&region__name={{ object.region.name|urlencode }}&county__name={{ object.county.name|urlencode }}&village__name={{ object.village.name|urlencode }}>{{ object.village.name }}</a>
                <br>
                {% endif %}
            </div>
            <div id="map" style="width: 600px; height: 400px"></div>

            <figure class="highcharts-figure">
                <div id="container" data-json="{{ data }}" data-json-current="{{ data_current_object }}"></div>
                <p class="highcharts-description">
                    Chart showing all tourist attractions with rating > 4
                </p>
            </figure>


            <script src="https://api-maps.yandex.ru/2.1/?apikey=ea8ed546-bf5b-4f2e-93ae-2f84155eb151&lang=en_US" type="text/javascript">
    </script>
            <script src={% static "google_trip/js/yandex_map.js" %}></script>
            <script src="https://code.highcharts.com/highcharts.js"></script>
            <script src="https://code.highcharts.com/modules/histogram-bellcurve.js"></script>
            <script src="https://code.highcharts.com/modules/exporting.js"></script>
            <script src="https://code.highcharts.com/modules/export-data.js"></script>
            <script src="https://code.highcharts.com/modules/accessibility.js"></script>
            <script src={% static "google_trip/js/highcharts.js" %}></script>
            <script src={% static "google_trip/js/rating.js" %}></script>
        </div>
    </div>
</section>
{% endblock %}
